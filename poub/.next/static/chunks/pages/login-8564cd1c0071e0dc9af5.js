(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459,179],{6156:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{Z:function(){return r}})},8633:function(e,n,t){"use strict";var r=t(4155);n.kP=x,n.zB=_,n.w7=S,n.zt=C;var o,a=t(7294),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c();if(n&&n.has(e))return n.get(e);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(t,o,a):t[o]=e[o]}t.default=e,n&&n.set(e,t);return t}(t(8016)),s=(o=t(5831))&&o.__esModule?o:{default:o};function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e,n,t,r,o,a,i){try{var s=e[a](i),c=s.value}catch(l){return void t(l)}s.done?n(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){p(a,r,o,i,s,"next",e)}function s(e){p(a,r,o,i,s,"throw",e)}i(void 0)}))}}var h={baseUrl:(0,s.default)(r.env.NEXTAUTH_URL||r.env.VERCEL_URL).baseUrl,basePath:(0,s.default)(r.env.NEXTAUTH_URL).basePath,baseUrlServer:(0,s.default)(r.env.NEXTAUTH_URL_INTERNAL||r.env.NEXTAUTH_URL||r.env.VERCEL_URL).baseUrl,basePathServer:(0,s.default)(r.env.NEXTAUTH_URL_INTERNAL||r.env.NEXTAUTH_URL).basePath,keepAlive:0,clientMaxAge:0,_clientLastSync:0,_clientSyncTimer:null,_eventListenersAdded:!1,_clientSession:void 0,_getSession:()=>{}},v=(0,i.proxyLogger)(i.default,h.basePath),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nextauth.message";return{receive(n){"undefined"!==typeof window&&window.addEventListener("storage",function(){var t=f((function*(t){if(t.key===e){var r=JSON.parse(t.newValue);"session"===(null===r||void 0===r?void 0:r.event)&&null!==r&&void 0!==r&&r.data&&n(r)}}));return function(e){return t.apply(this,arguments)}}())},post(n){"undefined"!==typeof localStorage&&localStorage.setItem(e,JSON.stringify(u(u({},n),{},{timestamp:R()})))}}}();"undefined"===typeof window||h._eventListenersAdded||(h._eventListenersAdded=!0,g.receive((()=>h._getSession({event:"storage"}))),document.addEventListener("visibilitychange",(()=>{!document.hidden&&h._getSession({event:"visibilitychange"})}),!1));var m=(0,a.createContext)();function x(e){var n=(0,a.useContext)(m);return n||function(e){var[n,t]=(0,a.useState)(e),[r,o]=(0,a.useState)(!n);return(0,a.useEffect)((()=>{h._getSession=f((function*(){var{event:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var n=null!==e,r="storage"===e,a=h.clientMaxAge,i=parseInt(h._clientLastSync),s=R(),c=h._clientSession;if(!r&&void 0!==c){if(0===a&&!0!==n)return;if(a>0&&null===c)return;if(a>0&&s<i+a)return}void 0===c&&(h._clientSession=null),h._clientLastSync=R();var l=yield y({triggerEvent:!r});h._clientSession=l,t(l),o(!1)}catch(u){v.error("CLIENT_USE_SESSION_ERROR",u),o(!1)}})),h._getSession()})),[n,r]}(e)}function y(e){return b.apply(this,arguments)}function b(){return(b=f((function*(e){var n,t=yield E("session",e);return(null===(n=null===e||void 0===e?void 0:e.triggerEvent)||void 0===n||n)&&g.post({event:"session",data:{trigger:"getSession"}}),t}))).apply(this,arguments)}function w(e){return j.apply(this,arguments)}function j(){return(j=f((function*(e){var n;return null===(n=yield E("csrf",e))||void 0===n?void 0:n.csrfToken}))).apply(this,arguments)}function k(){return N.apply(this,arguments)}function N(){return(N=f((function*(){return E("providers")}))).apply(this,arguments)}function _(e){return O.apply(this,arguments)}function O(){return(O=f((function*(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{callbackUrl:r=window.location,redirect:o=!0}=n,a=U(),i=yield k();if(e in i){var s="credentials"===i[e].type,c="email"===i[e].type,l=s||c,d=s?"".concat(a,"/callback/").concat(e):"".concat(a,"/signin/").concat(e),p={method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(u(u({},n),{},{csrfToken:yield w(),callbackUrl:r,json:!0}))},f="".concat(d,"?").concat(new URLSearchParams(t)),v=yield fetch(f,p),g=yield v.json();if(o||!l){var m,x=null!==(m=g.url)&&void 0!==m?m:r;return window.location=x,void(x.includes("#")&&window.location.reload())}var y=new URL(g.url).searchParams.get("error");return v.ok&&(yield h._getSession({event:"storage"})),{error:y,status:v.status,ok:v.ok,url:y?null:g.url}}window.location="".concat(a,"/signin?callbackUrl=").concat(encodeURIComponent(r))}))).apply(this,arguments)}function S(){return P.apply(this,arguments)}function P(){return(P=f((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{callbackUrl:n=window.location,redirect:t=!0}=e,r=U(),o={method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({csrfToken:yield w(),callbackUrl:n,json:!0})},a=yield fetch("".concat(r,"/signout"),o),i=yield a.json();if(g.post({event:"session",data:{trigger:"signout"}}),t){var s,c=null!==(s=i.url)&&void 0!==s?s:n;return window.location=c,void(c.includes("#")&&window.location.reload())}return yield h._getSession({event:"storage"}),i}))).apply(this,arguments)}function L(){var{baseUrl:e,basePath:n,clientMaxAge:t,keepAlive:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&(h.baseUrl=e),n&&(h.basePath=n),t&&(h.clientMaxAge=t),r){if(h.keepAlive=r,"undefined"===typeof window)return;null!==h._clientSyncTimer&&clearTimeout(h._clientSyncTimer),h._clientSyncTimer=setTimeout(f((function*(){h._clientSession&&(yield h._getSession({event:"timer"}))})),1e3*r)}}function C(e){var{children:n,session:t,options:r}=e;return L(r),(0,a.createElement)(m.Provider,{value:x(t)},n)}function E(e){return T.apply(this,arguments)}function T(){return(T=f((function*(e){var{ctx:n,req:t=(null===n||void 0===n?void 0:n.req)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=yield U(),o=t?{headers:{cookie:t.headers.cookie}}:{},a=yield fetch("".concat(r,"/").concat(e),o),i=yield a.json();return Object.keys(i).length>0?i:null}catch(s){return v.error("CLIENT_FETCH_ERROR",e,s),null}}))).apply(this,arguments)}function U(){return"undefined"===typeof window?(r.env.NEXTAUTH_URL||v.warn("NEXTAUTH_URL","NEXTAUTH_URL environment variable not set"),"".concat(h.baseUrlServer).concat(h.basePathServer)):h.basePath}function R(){return Math.floor(Date.now()/1e3)}},8016:function(e,n,t){"use strict";var r=t(4155);Object.defineProperty(n,"__esModule",{value:!0}),n.setLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.error&&(o.error=e.error);e.warn&&(o.warn=e.warn);e.debug&&(o.debug=e.debug)},n.proxyLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0;try{if("undefined"===typeof window)return e;var t={},r=function(e){t[e]=function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];o[e](t,...a);var s="".concat(n,"/_log"),c=new URLSearchParams({level:e,code:t,message:JSON.stringify(a.map((e=>e instanceof Error?{name:e.name,message:e.message,stack:e.stack}:e)))});return navigator.sendBeacon?navigator.sendBeacon(s,c):fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:c})}};for(var a in e)r(a);return t}catch(i){return o}},n.default=void 0;var o={error(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];console.error("[next-auth][error][".concat(e.toLowerCase(),"]"),"\nhttps://next-auth.js.org/errors#".concat(e.toLowerCase()),...t)},warn(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];console.warn("[next-auth][warn][".concat(e.toLowerCase(),"]"),"\nhttps://next-auth.js.org/warnings#".concat(e.toLowerCase()),...t)},debug(e){var n,t;if(null!==(n=r)&&void 0!==r&&null!==(t=n.env)&&void 0!==t&&t._NEXTAUTH_DEBUG){for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];console.log("[next-auth][debug][".concat(e.toLowerCase(),"]"),...a)}}};var a=o;n.default=a},5831:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n="http://localhost:3000",t="/api/auth";e||(e="".concat(n).concat(t));var r=e.startsWith("http:")?"http":"https";e=e.replace(/^https?:\/\//,"").replace(/\/$/,"");var[o,...a]=e.split("/"),i=o?"".concat(r,"://").concat(o):n,s=a.length>0?"/".concat(a.join("/")):t;return{baseUrl:i,basePath:s}}},964:function(e,n,t){"use strict";var r=t(5893),o=t(7375),a=t(5988);n.Z=function(e){var n=e.children,t=(0,o.Z)(e,["children"]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.default,{id:"224067984",dynamic:[t.margin?t.margin:"0px",t.width?t.width:"185px",t.color?t.color:"white",t.backgroundColor?t.backgroundColor:"var(--lightGreen)",t.border?t.border:"none"],children:["button.__jsx-style-dynamic-selector{border-radius:24px;margin:".concat(t.margin?t.margin:"0px",";width:").concat(t.width?t.width:"185px",';height:42px;font-family:"hero-new";color:').concat(t.color?t.color:"white",";background:").concat(t.backgroundColor?t.backgroundColor:"var(--lightGreen)",";border:").concat(t.border?t.border:"none",";font-weight:bold;}")]}),(0,r.jsx)("button",{onClick:t.clickEvent,className:a.default.dynamic([["224067984",[t.margin?t.margin:"0px",t.width?t.width:"185px",t.color?t.color:"white",t.backgroundColor?t.backgroundColor:"var(--lightGreen)",t.border?t.border:"none"]]]),children:n})]})}},2497:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var r=t(5893),o=t(7757),a=t.n(o);function i(e,n,t,r,o,a,i){try{var s=e[a](i),c=s.value}catch(l){return void t(l)}s.done?n(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)}))}}var c=t(6156),l=t(5988),u=t(8633),d=t(1163),p=t(7294),f=t(964);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(){var e=(0,p.useState)({username:"",password:""}),n=e[0],t=e[1],o=(0,p.useState)(""),i=o[0],c=o[1],h=(0,d.useRouter)();function g(e){t(v(v({},n),e))}var m=(0,p.useState)(""),x=(m[0],m[1],(0,p.useState)("")),y=x[0],b=x[1],w=(0,p.useState)(""),j=w[0],k=w[1],N=(0,p.useState)(""),_=N[0],O=N[1],S=(0,p.useState)(""),P=S[0],L=S[1],C=(0,p.useState)(""),E=C[0],T=C[1],U=(0,p.useState)(""),R=U[0],A=U[1];function D(){return(D=s(a().mark((function e(){var n,t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:y,email:y,password:j,codeCompany:_,firstName:P,lastName:E},console.log(n),e.next=4,fetch("".concat("http://localhost:1337","/auth/local/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return t=e.sent,e.next=7,t.json();case 7:r=e.sent,console.log(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{id:"3598971150",children:[".loginContainer{width:700px;height:1170px;box-shadow:0px 3px 20px #00000029;border-radius:70px;padding:71px 84px;}","h3{font-size:34px;font-family:var(--font1);color:var(--darkGreen);margin-bottom:0;}",".inputContainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".inputLogin{width:100%;margin:38px 0 0 0;}",".inputLoginCodeCompany{width:100%;margin:38px 0 0 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".inputLoginCodeCompany input{width:30%;}",".nameInput{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".nameInput .inputLogin{width:40%;}","label{font-family:var(--font2);font-size:20px;color:var(--darkGreen);text-align:left;display:block;font-weight:500;}","input{width:100%;background-color:rgba(123,170,104,0.3);height:49px;padding:0px 32px;border-radius:50px;border:none;font-size:17px;color:var(--textBlack);}"]}),(0,r.jsxs)("div",{className:"jsx-3598971150 loginContainer",children:[(0,r.jsxs)("div",{className:"jsx-3598971150 inputContainer",children:[(0,r.jsx)("h3",{className:"jsx-3598971150",children:"Connexion"}),(0,r.jsxs)("div",{className:"jsx-3598971150 inputLogin",children:[(0,r.jsx)("label",{htmlFor:"username",className:"jsx-3598971150",children:"E-mail"}),(0,r.jsx)("input",{name:"username",type:"email",onChange:function(e){return g({username:e.target.value})},className:"jsx-3598971150"})]}),(0,r.jsxs)("div",{className:"jsx-3598971150 inputLogin",children:[(0,r.jsx)("label",{htmlFor:"password",className:"jsx-3598971150",children:"Password"}),(0,r.jsx)("input",{name:"password",type:"password",onChange:function(e){return g({password:e.target.value})},className:"jsx-3598971150"})]}),(0,r.jsx)("span",{className:"jsx-3598971150",children:i}),(0,r.jsx)(f.Z,{margin:"30px",clickEvent:s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.zB)("credentials",v({redirect:!1},n));case 2:(t=e.sent).error?c(t.error):t.ok&&h.push("/");case 4:case"end":return e.stop()}}),e)}))),children:"Je me connecte"})]}),(0,r.jsxs)("div",{className:"jsx-3598971150 inputContainer",children:[(0,r.jsx)("h3",{className:"jsx-3598971150",children:"Inscription"}),(0,r.jsxs)("div",{className:"jsx-3598971150 inputLoginCodeCompany",children:[(0,r.jsxs)("div",{className:"jsx-3598971150",children:[(0,r.jsx)("label",{htmlFor:"email",className:"jsx-3598971150",children:"Code entreprise"}),(0,r.jsx)("p",{className:"jsx-3598971150",children:"Code de 4 chiffres donn\xe9 par votre entreprise, il faut que celle-ci soit partenaire"})]}),(0,r.jsx)("div",{className:"jsx-3598971150"}),(0,r.jsx)("input",{name:"codeCompany",type:"number",onChange:function(e){return function(e){e.value.length>4||e.value.length<4?(A("Le code doit contenir 4 chiffres"),O(e.value)):(A(""),O(e.value))}(e.target)},value:_,className:"jsx-3598971150"})]}),(0,r.jsx)("span",{style:{color:"red",fontSize:"12px"},className:"jsx-3598971150",children:R}),(0,r.jsxs)("div",{className:"jsx-3598971150 inputLogin",children:[(0,r.jsx)("label",{htmlFor:"email",className:"jsx-3598971150",children:"E-mail"}),(0,r.jsx)("input",{name:"email",type:"email",onChange:function(e){return b(e.target.value)},value:y,placeholder:"Email",className:"jsx-3598971150"}),console.log(y)]}),(0,r.jsxs)("div",{className:"jsx-3598971150 inputLogin",children:[(0,r.jsx)("label",{htmlFor:"password",className:"jsx-3598971150",children:"Password"}),(0,r.jsx)("input",{name:"password",type:"password",onChange:function(e){return k(e.target.value)},value:j,placeholder:"Password",className:"jsx-3598971150"})]}),(0,r.jsxs)("div",{className:"jsx-3598971150 nameInput",children:[(0,r.jsxs)("div",{className:"jsx-3598971150 inputLogin",children:[(0,r.jsx)("label",{htmlFor:"firstName",className:"jsx-3598971150",children:"Pr\xe9nom"}),(0,r.jsx)("input",{name:"firstName",type:"text",onChange:function(e){return L(e.target.value)},value:P,placeholder:"Pr\xe9nom",className:"jsx-3598971150"})]}),(0,r.jsxs)("div",{className:"jsx-3598971150 inputLogin",children:[(0,r.jsx)("label",{htmlFor:"lastName",className:"jsx-3598971150",children:"Nom"}),(0,r.jsx)("input",{name:"lastName",type:"text",onChange:function(e){return T(e.target.value)},value:E,placeholder:"Nom",className:"jsx-3598971150"})]})]}),(0,r.jsx)(f.Z,{margin:"30px",clickEvent:function(){return function(){return D.apply(this,arguments)}()},children:"Je m'inscris"})]})]})]})}},7156:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(2497)}])},1163:function(e,n,t){e.exports=t(2441)},4453:function(){}},function(e){e.O(0,[774,487,433],(function(){return n=7156,e(e.s=n);var n}));var n=e.O();_N_E=n}]);